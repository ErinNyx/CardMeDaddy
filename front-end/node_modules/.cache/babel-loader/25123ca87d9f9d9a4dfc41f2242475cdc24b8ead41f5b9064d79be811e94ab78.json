{"ast":null,"code":"import _regeneratorRuntime from\"/home/erin/WebstormProjects/CardMe/front-end/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/erin/WebstormProjects/CardMe/front-end/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/erin/WebstormProjects/CardMe/front-end/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./index.scss';import{Link,NavLink,useNavigate}from\"react-router-dom\";import{useEffect,useState}from\"react\";import{io}from\"socket.io-client\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var socket=io();socket.on('alert',function(msg){alert(msg);});var Navbar=function Navbar(){var _useState=useState('Change Name'),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var getData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:localStorage.setItem('loading',true);_context.next=3;return fetch('/api/get-data',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({id:localStorage.getItem('id')})}).then(function(res){return res.json();});case 3:getData=_context.sent;localStorage.setItem('id',getData.id);socket.emit('online',{username:getData.username,id:getData.id});localStorage.setItem('loading',false);setUsername(getData.username);case 8:case\"end\":return _context.stop();}},_callee);}))();},[]);return/*#__PURE__*/_jsxs(\"section\",{id:'nav',children:[/*#__PURE__*/_jsx(NavLink,{to:'/',id:'logo',children:\"Card Me Daddy\"}),/*#__PURE__*/_jsxs(\"form\",{className:'change-name',onSubmit:function onSubmit(e){e.preventDefault();var username=document.getElementById('username').value;if(!username)return;setUsername(username);socket.emit('change-username',{id:localStorage.getItem('id'),username:username});document.getElementById('username').value='';},children:[/*#__PURE__*/_jsx(\"input\",{type:'text',placeholder:username,id:'username'}),/*#__PURE__*/_jsx(\"input\",{type:'submit',value:'Change Name'})]})]});};export default Navbar;","map":{"version":3,"names":["Link","NavLink","useNavigate","useEffect","useState","io","jsx","_jsx","jsxs","_jsxs","socket","on","msg","alert","Navbar","_useState","_useState2","_slicedToArray","username","setUsername","_asyncToGenerator","_regeneratorRuntime","mark","_callee","getData","wrap","_callee$","_context","prev","next","localStorage","setItem","fetch","method","headers","body","JSON","stringify","id","getItem","then","res","json","sent","emit","stop","children","to","className","onSubmit","e","preventDefault","document","getElementById","value","type","placeholder"],"sources":["/home/erin/WebstormProjects/CardMe/front-end/src/components/Navbar/index.js"],"sourcesContent":["import './index.scss';\nimport {Link, NavLink, useNavigate} from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport { io } from \"socket.io-client\";\n\nconst socket = io();\nsocket.on('alert', (msg) => {\n    alert(msg);\n});\n\n\nconst Navbar = () => {\n\n    const [username, setUsername] = useState('Change Name');\n\n    useEffect( () => {\n        (async () => {\n            localStorage.setItem('loading', true);\n            const getData = await fetch('/api/get-data', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    id: localStorage.getItem('id')\n                })\n            }).then((res) => res.json());\n\n            localStorage.setItem('id', getData.id);\n\n            socket.emit('online', {\n                username: getData.username,\n                id: getData.id\n            });\n            localStorage.setItem('loading', false);\n            setUsername(getData.username);\n        })();\n    }, []);\n\n    return (\n        <section id={'nav'}>\n            <NavLink to={'/'} id={'logo'}>\n                Card Me Daddy\n            </NavLink>\n\n            <form className={'change-name'} onSubmit={ (e) => {\n                e.preventDefault();\n                const username = document.getElementById('username').value;\n                if(!username) return;\n\n                setUsername(username);\n                socket.emit('change-username', { id: localStorage.getItem('id'), username });\n                document.getElementById('username').value = '';\n            }}>\n                <input type={'text'} placeholder={ username } id={ 'username' } />\n                <input type={'submit'} value={'Change Name'}/>\n            </form>\n        </section>\n    );\n};\n\nexport default Navbar;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}