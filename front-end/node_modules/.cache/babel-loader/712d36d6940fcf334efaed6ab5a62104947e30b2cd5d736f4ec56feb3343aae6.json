{"ast":null,"code":"import _regeneratorRuntime from\"/home/erin/WebstormProjects/CardMe/front-end/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/erin/WebstormProjects/CardMe/front-end/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/erin/WebstormProjects/CardMe/front-end/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./index.scss';import Navbar from'../Navbar';import{io}from'socket.io-client';import{useState,useEffect}from\"react\";import{NavLink}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var socket=io();socket.on('alert',function(msg){alert(msg);});var Create=function Create(){document.addEventListener('keyup',function(e){e.preventDefault();if(e.key==='ENTER')crHandler(e);});var init=/*#__PURE__*/_jsx(\"div\",{children:\"Loading . . .\"});var crInit=/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"a\",{className:'cr-add',children:[/*#__PURE__*/_jsx(\"input\",{type:'text',placeholder:'Custom CR Cast decks can be added with the deck code',id:'cr-cast-input'}),/*#__PURE__*/_jsx(\"input\",{type:'submit',onClick:function onClick(e){return crHandler(e);},value:'Add CR Cast Deck',id:'cr-cast-submit'})]}),/*#__PURE__*/_jsx(\"h3\",{children:\"Added CR Packs\"})]});var _useState=useState(init),_useState2=_slicedToArray(_useState,2),packs=_useState2[0],setPacks=_useState2[1];var _useState3=useState(crInit),_useState4=_slicedToArray(_useState3,2),crPacks=_useState4[0],setCR=_useState4[1];function crHandler(_x){return _crHandler.apply(this,arguments);}function _crHandler(){_crHandler=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){var id,pack,packID,add;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:e.preventDefault();// https://api.crcast.cc/v1/cc/decks/\nid=document.getElementById('cr-cast-input').value;if(id){_context2.next=4;break;}return _context2.abrupt(\"return\",alert('Please enter a CR Cast ID'));case 4:_context2.next=6;return fetch('/api/cr-cast',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({deck:id})}).then(function(res){return res.json();});case 6:pack=_context2.sent;if(!(pack.error>1)){_context2.next=9;break;}return _context2.abrupt(\"return\",alert('Invalid pack, please check that you entered the right code.'));case 9:packID=/*#__PURE__*/_jsxs(\"label\",{className:'pack-container',children:[/*#__PURE__*/_jsx(\"input\",{type:'checkbox',className:'cr',value:id,checked:true}),\" \",pack.name,\": \",pack.description,\" \"]});add=/*#__PURE__*/_jsxs(_Fragment,{children:[crPacks,packID]});crPacks=add;setCR(add);case 13:case\"end\":return _context2.stop();}},_callee2);}));return _crHandler.apply(this,arguments);}useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var getPacks;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('https://www.restagainsthumanity.com/api/v2/packs',{method:'GET'}).then(function(res){return res.json();});case 2:getPacks=_context.sent;setPacks(/*#__PURE__*/_jsxs(\"div\",{className:'column-wrapper',children:[/*#__PURE__*/_jsx(\"p\",{id:'pre-title',children:\"Premade Packs\"}),/*#__PURE__*/_jsx(\"div\",{id:'base-packs',children:getPacks.map(function(p){return/*#__PURE__*/_jsxs(\"label\",{className:'pack-container',children:[/*#__PURE__*/_jsx(\"input\",{type:'checkbox',className:'cah',value:p.split(\" \").join(\"%20\").trim()}),p]});})})]}));case 4:case\"end\":return _context.stop();}},_callee);}))();});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:'main',children:[/*#__PURE__*/_jsx(\"link\",{rel:\"stylesheet\",href:\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\"}),/*#__PURE__*/_jsxs(\"form\",{id:'game-create',children:[/*#__PURE__*/_jsxs(\"div\",{className:'row-wrapper',children:[packs,/*#__PURE__*/_jsxs(\"div\",{className:'column-wrapper',id:'cr-cast-div',children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\" CR Cast \",/*#__PURE__*/_jsx(\"i\",{className:'fa fa-question-circle',children:/*#__PURE__*/_jsxs(\"p\",{className:'hide-tip',children:[\"CR Cast is a custom deck builder for cards against humanity. To import your deck, please copy the deck code (the url will not work) and paste into the field. \",/*#__PURE__*/_jsx(NavLink,{to:'https://cast.clrtd.com/',children:\"Visit CR Cast to make your deck today!\"})]})})]}),crPacks]})]}),/*#__PURE__*/_jsxs(\"div\",{id:'create-game-top',children:[/*#__PURE__*/_jsx(\"input\",{type:'text',placeholder:'Password, if left blank game will be public'}),/*#__PURE__*/_jsx(\"input\",{type:'submit',value:'Start Game!',onClick:function onClick(e){e.preventDefault();var cah=document.querySelectorAll('cah');var cr=document.querySelectorAll('cah');console.log(cah.map(function(d){return d.checked==true;}));socket.emit('start-game',{id:localStorage.getItem('id'),cah:cah,cr:cr});}})]})]})]})]});};export default Create;","map":{"version":3,"names":["Navbar","io","useState","useEffect","NavLink","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","socket","on","msg","alert","Create","document","addEventListener","e","preventDefault","key","crHandler","init","children","crInit","className","type","placeholder","id","onClick","value","_useState","_useState2","_slicedToArray","packs","setPacks","_useState3","_useState4","crPacks","setCR","_x","_crHandler","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","pack","packID","add","wrap","_callee2$","_context2","prev","next","getElementById","abrupt","fetch","method","headers","body","JSON","stringify","deck","then","res","json","sent","error","checked","name","description","stop","_callee","getPacks","_callee$","_context","map","p","split","join","trim","rel","href","to","cah","querySelectorAll","cr","console","log","d","emit","localStorage","getItem"],"sources":["/home/erin/WebstormProjects/CardMe/front-end/src/components/Create Game/index.js"],"sourcesContent":["import './index.scss';\nimport Navbar from '../Navbar';\nimport { io } from 'socket.io-client';\nimport { useState, useEffect } from \"react\";\nimport {NavLink} from \"react-router-dom\";\n\nconst socket = io();\nsocket.on('alert', (msg) => {\n    alert(msg);\n});\n\nconst Create = () => {\n    document.addEventListener('keyup', (e) => {\n        e.preventDefault();\n        if (e.key === 'ENTER') crHandler(e);\n    });\n\n    const init = (\n        <div>\n            Loading . . .\n        </div>\n    );\n\n    const crInit = (\n        <>\n            <a className={ 'cr-add' }>\n                <input type={ 'text' } placeholder={'Custom CR Cast decks can be added with the deck code'} id={ 'cr-cast-input' } />\n                <input type={'submit'} onClick={ (e) => crHandler(e) } value={ 'Add CR Cast Deck' } id={ 'cr-cast-submit' } />\n            </a>\n            <h3>Added CR Packs</h3>\n        </>\n    );\n\n    const [packs, setPacks] = useState(init);\n    let [crPacks, setCR] = useState(crInit);\n\n    async function crHandler(e) {\n        e.preventDefault();\n        // https://api.crcast.cc/v1/cc/decks/\n        var id = document.getElementById('cr-cast-input').value;\n        if(!id) return alert('Please enter a CR Cast ID');\n\n        const pack = await fetch('/api/cr-cast', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                deck: id\n            })\n        }).then((res) => res.json());\n\n        if(pack.error > 1) return alert('Invalid pack, please check that you entered the right code.');\n\n        const packID = ( <label className={ 'pack-container' }><input type={ 'checkbox' } className={'cr'} value={ id } checked /> { pack.name }: { pack.description } </label>);\n        const add = (\n            <>\n                { crPacks }\n                { packID }\n            </>\n        );\n\n        crPacks = add;\n\n        setCR(add);\n    }\n\n    useEffect(() => {\n        (async () => {\n            //get cards https://www.restagainsthumanity.com/api/v2/cards?packs=\n            //get packs https://www.restagainsthumanity.com/api/v2/packs\n\n            const getPacks = await fetch('https://www.restagainsthumanity.com/api/v2/packs', {\n                method: 'GET'\n            }).then((res) => res.json());\n\n            setPacks(\n                (\n                    <div className={ 'column-wrapper' }>\n                        <p id={ 'pre-title' }>Premade Packs</p>\n                        <div id={ 'base-packs' }>\n                            { getPacks.map((p) => (\n                                    <label className={ 'pack-container' }>\n                                        <input type={ 'checkbox' } className={'cah'} value={ p.split(\" \").join(\"%20\").trim() } />\n                                        { p }\n                                    </label>\n                                )\n                            )}\n                        </div>\n                    </div>\n                )\n            );\n        })();\n    });\n\n    return (\n        <>\n            <Navbar />\n\n            <div className={ 'main' }>\n                <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\" />\n\n                <form id={ 'game-create' }>\n                    <div className={ 'row-wrapper' }>\n                        { packs }\n                        <div className={ 'column-wrapper' } id={ 'cr-cast-div' }>\n                            <h1> CR Cast <i className={ 'fa fa-question-circle' }>\n                                <p className={ 'hide-tip' }>CR Cast is a custom deck builder for cards against humanity. To import your deck, please copy the deck code (the url will not work) and\n                                paste into the field. <NavLink to={'https://cast.clrtd.com/'}>Visit CR Cast to make your deck today!</NavLink></p>\n                            </i></h1>\n                            { crPacks }\n                        </div>\n                    </div>\n\n                    <div id={ 'create-game-top' }>\n                        <input type={'text'} placeholder={ 'Password, if left blank game will be public' } />\n                        <input type={ 'submit' } value={ 'Start Game!' } onClick={ (e) => {\n                            e.preventDefault();\n                            const cah = document.querySelectorAll('cah');\n                            const cr = document.querySelectorAll('cah');\n\n                            console.log(cah.map(d => d.checked == true));\n\n                            socket.emit('start-game',\n                                {\n                                    id: localStorage.getItem('id'),\n                                    cah,\n                                    cr\n                                })\n                        }\n                        } />\n                    </div>\n                </form>\n            </div>\n        </>\n    );\n}\n\nexport default Create;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}