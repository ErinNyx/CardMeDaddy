{"ast":null,"code":"import _regeneratorRuntime from\"/home/erin/WebstormProjects/CardMe/front-end/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/erin/WebstormProjects/CardMe/front-end/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/erin/WebstormProjects/CardMe/front-end/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./index.scss';import Navbar from'../Navbar';import{io}from'socket.io-client';import{useState,useEffect}from\"react\";import{NavLink}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var socket=io();socket.on('alert',function(msg){alert(msg);});var Create=function Create(){document.addEventListener('keyup',function(e){e.preventDefault();if(e.key==='ENTER')crHandler(e);});var init=/*#__PURE__*/_jsx(\"div\",{children:\"Loading . . .\"});var crInit=/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"a\",{className:'cr-add',children:[/*#__PURE__*/_jsx(\"input\",{type:'text',placeholder:'This website supports custom decks made with CR Cast',id:'cr-cast-input'}),/*#__PURE__*/_jsx(\"input\",{type:'submit',onClick:function onClick(e){return crHandler(e);},value:'Add CR Cast Deck',id:'cr-cast-submit'})]})});var _useState=useState(init),_useState2=_slicedToArray(_useState,2),packs=_useState2[0],setPacks=_useState2[1];var _useState3=useState(crInit),_useState4=_slicedToArray(_useState3,2),crPacks=_useState4[0],setCR=_useState4[1];function crHandler(_x){return _crHandler.apply(this,arguments);}function _crHandler(){_crHandler=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){var pack,packID,add;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:e.preventDefault();// https://api.crcast.cc/v1/cc/decks/\n_context2.next=3;return fetch('/api/cr-cast',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({deck:document.getElementById('cr-cast-input').value})}).then(function(res){return res.json();});case 3:pack=_context2.sent;if(!(pack.error>1)){_context2.next=6;break;}return _context2.abrupt(\"return\",alert('Invalid pack, please check that you entered the right code.'));case 6:packID=/*#__PURE__*/_jsxs(\"label\",{className:'pack-container',children:[/*#__PURE__*/_jsx(\"input\",{type:'checkbox'}),\" \",pack.name,\": \",pack.description,\" \"]});add=/*#__PURE__*/_jsxs(_Fragment,{children:[crPacks,packID]});crPacks=add;setCR(add);case 10:case\"end\":return _context2.stop();}},_callee2);}));return _crHandler.apply(this,arguments);}useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var getPacks;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('https://www.restagainsthumanity.com/api/v2/packs',{method:'GET'}).then(function(res){return res.json();});case 2:getPacks=_context.sent;setPacks(/*#__PURE__*/_jsxs(\"div\",{className:'column-wrapper',children:[/*#__PURE__*/_jsx(\"p\",{id:'pre-title',children:\"Premade Packs\"}),/*#__PURE__*/_jsx(\"div\",{id:'base-packs',children:getPacks.map(function(p){return/*#__PURE__*/_jsxs(\"label\",{className:'pack-container',children:[/*#__PURE__*/_jsx(\"input\",{type:'checkbox'}),p]});})})]}));case 4:case\"end\":return _context.stop();}},_callee);}))();});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:'main',children:/*#__PURE__*/_jsx(\"form\",{id:'game-create',children:/*#__PURE__*/_jsxs(\"div\",{className:'row-wrapper',children:[packs,/*#__PURE__*/_jsxs(\"div\",{className:'column-wrapper',id:'cr-cast-div',children:[/*#__PURE__*/_jsx(\"h1\",{children:\" CR Cast \"}),crPacks]})]})})})]});};export default Create;","map":{"version":3,"names":["Navbar","io","useState","useEffect","NavLink","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","socket","on","msg","alert","Create","document","addEventListener","e","preventDefault","key","crHandler","init","children","crInit","className","type","placeholder","id","onClick","value","_useState","_useState2","_slicedToArray","packs","setPacks","_useState3","_useState4","crPacks","setCR","_x","_crHandler","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","pack","packID","add","wrap","_callee2$","_context2","prev","next","fetch","method","headers","body","JSON","stringify","deck","getElementById","then","res","json","sent","error","abrupt","name","description","stop","_callee","getPacks","_callee$","_context","map","p"],"sources":["/home/erin/WebstormProjects/CardMe/front-end/src/components/Create Game/index.js"],"sourcesContent":["import './index.scss';\nimport Navbar from '../Navbar';\nimport { io } from 'socket.io-client';\nimport { useState, useEffect } from \"react\";\nimport {NavLink} from \"react-router-dom\";\n\nconst socket = io();\nsocket.on('alert', (msg) => {\n    alert(msg);\n});\n\nconst Create = () => {\n    document.addEventListener('keyup', (e) => {\n        e.preventDefault();\n        if (e.key === 'ENTER') crHandler(e);\n    });\n\n    const init = (\n        <div>\n            Loading . . .\n        </div>\n    );\n\n    const crInit = (\n        <>\n            <a className={ 'cr-add' }>\n                <input type={ 'text' } placeholder={'This website supports custom decks made with CR Cast'} id={ 'cr-cast-input' } />\n                <input type={'submit'} onClick={ (e) => crHandler(e) } value={ 'Add CR Cast Deck' } id={ 'cr-cast-submit' } />\n            </a>\n        </>\n    );\n\n    const [packs, setPacks] = useState(init);\n    let [crPacks, setCR] = useState(crInit);\n\n    async function crHandler(e) {\n        e.preventDefault();\n        // https://api.crcast.cc/v1/cc/decks/\n        const pack = await fetch('/api/cr-cast', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                deck: document.getElementById('cr-cast-input').value\n            })\n        }).then((res) => res.json());\n\n        if(pack.error > 1) return alert('Invalid pack, please check that you entered the right code.');\n\n        const packID = ( <label className={ 'pack-container' }><input type={ 'checkbox' }/> { pack.name }: { pack.description } </label>);\n        const add = (\n            <>\n                { crPacks }\n                { packID }\n            </>\n        );\n\n        crPacks = add;\n\n        setCR(add);\n    }\n\n    useEffect(() => {\n        (async () => {\n            //get cards https://www.restagainsthumanity.com/api/v2/cards?packs=\n            //get packs https://www.restagainsthumanity.com/api/v2/packs\n\n            const getPacks = await fetch('https://www.restagainsthumanity.com/api/v2/packs', {\n                method: 'GET'\n            }).then((res) => res.json());\n\n            setPacks(\n                (\n                    <div className={ 'column-wrapper' }>\n                        <p id={ 'pre-title' }>Premade Packs</p>\n                        <div id={ 'base-packs' }>\n                            { getPacks.map((p) => (\n                                    <label className={ 'pack-container' }>\n                                        <input type={ 'checkbox' } />\n                                        { p }\n                                    </label>\n                                )\n                            )}\n                        </div>\n                    </div>\n                )\n            );\n        })();\n    });\n\n    return (\n        <>\n            <Navbar />\n\n            <div className={ 'main' }>\n\n                <form id={ 'game-create' }>\n                    <div className={ 'row-wrapper' }>\n                        { packs }\n                        <div className={ 'column-wrapper' } id={ 'cr-cast-div' }>\n                            <h1> CR Cast </h1>\n                            { crPacks }\n                        </div>\n                    </div>\n                </form>\n            </div>\n        </>\n    );\n}\n\nexport default Create;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}