{"ast":null,"code":"import _regeneratorRuntime from\"/home/erin/WebstormProjects/CardMe/front-end/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/erin/WebstormProjects/CardMe/front-end/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/erin/WebstormProjects/CardMe/front-end/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Navbar from\"../Navbar\";import{io}from'socket.io-client';import{useEffect}from\"react\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var socket=io();socket.on('alert',function(msg){alert(msg);});socket.on('redirect',function(link){window.location.href=link;});var Join=function Join(){var init=/*#__PURE__*/_jsx(_Fragment,{});var _useState=useState(init),_useState2=_slicedToArray(_useState,2),pub=_useState2[0],setPublic=_useState2[1];useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var games;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('/api/get-games').then(function(res){return res.json();});case 2:games=_context.sent;setPublic(/*#__PURE__*/_jsxs(_Fragment,{children:[\" \",games.map(function(g){return/*#__PURE__*/_jsxs(\"div\",{className:'public-game',onClick:function onClick(){return socket.emit('join-game',{code:g.code,id:localStorage.getItem('id')});},children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Host: \",g.players[0].username,\" \"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Players: \",g.players.length,\" \"]})]});}),\" \"]}));case 4:case\"end\":return _context.stop();}},_callee);})));return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:'game-options',children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){e.preventDefault();socket.emit('join-game',{code:document.getElementById('join-code').value,id:localStorage.getItem('id')});},children:[/*#__PURE__*/_jsx(\"input\",{type:'text',placeholder:'Game Code',id:'join-code'}),/*#__PURE__*/_jsx(\"input\",{type:'submit',value:'Go'})]}),/*#__PURE__*/_jsx(\"span\",{className:'public-title',children:\"Join Public\"}),/*#__PURE__*/_jsx(\"div\",{className:'public-options',children:pub})]})]});};export default Join;","map":{"version":3,"names":["Navbar","io","useEffect","Fragment","_Fragment","jsx","_jsx","jsxs","_jsxs","socket","on","msg","alert","link","window","location","href","Join","init","_useState","useState","_useState2","_slicedToArray","pub","setPublic","_asyncToGenerator","_regeneratorRuntime","mark","_callee","games","wrap","_callee$","_context","prev","next","fetch","then","res","json","sent","children","map","g","className","onClick","emit","code","id","localStorage","getItem","players","username","length","stop","onSubmit","e","preventDefault","document","getElementById","value","type","placeholder"],"sources":["/home/erin/WebstormProjects/CardMe/front-end/src/components/Join Game/index.js"],"sourcesContent":["import Navbar from \"../Navbar\";\nimport { io } from 'socket.io-client';\nimport {useEffect} from \"react\";\n\nconst socket = io();\nsocket.on('alert', (msg) => {\n    alert(msg);\n});\n\nsocket.on('redirect', (link) => {\n    window.location.href = link;\n});\n\nconst Join = () => {\n\n    const init = (<></>);\n\n    const [pub, setPublic] = useState(init);\n\n    useEffect(async () => {\n        const games = await fetch('/api/get-games').then((res) => res.json());\n\n        setPublic(<> { games.map((g) =>\n            (<div className={'public-game'} onClick={() =>\n                socket.emit('join-game', {\n                    code: g.code,\n                    id: localStorage.getItem('id')\n                })\n            }>\n                <p>Host: { g.players[0].username } </p>\n                <p>Players: { g.players.length } </p>\n            </div>)\n        ) } </>);\n    })\n\n    return (\n        <>\n            <Navbar />\n            <div className={ 'game-options' }>\n                <form onSubmit={ (e) => {\n                    e.preventDefault();\n                    socket.emit('join-game', {\n                        code: document.getElementById('join-code').value,\n                        id: localStorage.getItem('id')\n                    });\n                }}>\n                    <input type={ 'text' } placeholder={ 'Game Code' } id={ 'join-code' } />\n                    <input type={ 'submit' } value={ 'Go' } />\n                </form>\n\n                <span className={'public-title'}>Join Public</span>\n\n                <div className={'public-options'}>\n                    { pub }\n                </div>\n            </div>\n        </>\n    );\n}\n\nexport default Join;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}