{"ast":null,"code":"import _regeneratorRuntime from\"/home/erin/WebstormProjects/CardMe/front-end/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/erin/WebstormProjects/CardMe/front-end/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/erin/WebstormProjects/CardMe/front-end/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Navbar from\"../Navbar\";import{io}from'socket.io-client';import{useEffect,useState}from\"react\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var socket=io();socket.on('alert',function(msg){alert(msg);});socket.on('redirect',function(link){window.location.href=link;});var Join=function Join(){var init=/*#__PURE__*/_jsx(_Fragment,{});var _useState=useState(init),_useState2=_slicedToArray(_useState,2),pub=_useState2[0],setPublic=_useState2[1];useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var games;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('/api/get-games',{method:'POST'}).then(function(res){return res.json();});case 2:games=_context.sent;console.log(games);setPublic(/*#__PURE__*/_jsxs(_Fragment,{children:[\" \",games.gameList.map(function(g){return/*#__PURE__*/_jsxs(\"div\",{className:'public-game',onClick:function onClick(){socket.emit('join-game',{code:g.code,id:localStorage.getItem('id')});},children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Host: \",g.players[0].username,\" \"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Players: \",g.players.length,\" \"]})]});}),\" \"]}));case 5:case\"end\":return _context.stop();}},_callee);})));return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:'game-options',children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){e.preventDefault();socket.emit('join-game',{code:document.getElementById('join-code').value,id:localStorage.getItem('id')});},children:[/*#__PURE__*/_jsx(\"input\",{type:'text',placeholder:'Game Code',id:'join-code'}),/*#__PURE__*/_jsx(\"input\",{type:'submit',value:'Go'})]}),/*#__PURE__*/_jsx(\"span\",{className:'public-title',children:\"Join Public\"}),/*#__PURE__*/_jsx(\"div\",{className:'public-options',children:pub})]})]});};export default Join;","map":{"version":3,"names":["Navbar","io","useEffect","useState","Fragment","_Fragment","jsx","_jsx","jsxs","_jsxs","socket","on","msg","alert","link","window","location","href","Join","init","_useState","_useState2","_slicedToArray","pub","setPublic","_asyncToGenerator","_regeneratorRuntime","mark","_callee","games","wrap","_callee$","_context","prev","next","fetch","method","then","res","json","sent","console","log","children","gameList","map","g","className","onClick","emit","code","id","localStorage","getItem","players","username","length","stop","onSubmit","e","preventDefault","document","getElementById","value","type","placeholder"],"sources":["/home/erin/WebstormProjects/CardMe/front-end/src/components/Join Game/index.js"],"sourcesContent":["import Navbar from \"../Navbar\";\nimport { io } from 'socket.io-client';\nimport {useEffect, useState} from \"react\";\n\nconst socket = io();\nsocket.on('alert', (msg) => {\n    alert(msg);\n});\n\nsocket.on('redirect', (link) => {\n    window.location.href = link;\n});\n\nconst Join = () => {\n\n    const init = (<></>);\n\n    const [pub, setPublic] = useState(init);\n\n    useEffect(async () => {\n        const games = await fetch('/api/get-games', { method: 'POST' }).then((res) => res.json());\n\n        console.log(games);\n\n        setPublic(<> { games.gameList.map((g) =>\n            (<div className={'public-game'} onClick={() => {\n                    socket.emit('join-game', {\n                        code: g.code,\n                        id: localStorage.getItem('id')\n                    });\n                }\n            }>\n                <p>Host: { g.players[0].username } </p>\n                <p>Players: { g.players.length } </p>\n            </div>)\n        ) } </>);\n    })\n\n    return (\n        <>\n            <Navbar />\n            <div className={ 'game-options' }>\n                <form onSubmit={ (e) => {\n                    e.preventDefault();\n                    socket.emit('join-game', {\n                        code: document.getElementById('join-code').value,\n                        id: localStorage.getItem('id')\n                    });\n                }}>\n                    <input type={ 'text' } placeholder={ 'Game Code' } id={ 'join-code' } />\n                    <input type={ 'submit' } value={ 'Go' } />\n                </form>\n\n                <span className={'public-title'}>Join Public</span>\n\n                <div className={'public-options'}>\n                    { pub }\n                </div>\n            </div>\n        </>\n    );\n}\n\nexport default Join;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}